<%@page language="abap" %>                                                                                                                                                                                                                                     
<!doctype html>                                                                                                                                                                                                                                                
<html lang="en">                                                                                                                                                                                                                                               
<head>                                                                                                                                                                                                                                                         
  <meta charset="utf-8">                                                                                                                                                                                                                                       
  <title>Game developed in ABAP, powered by SAP NetWeaver and Teachable Machine</title>                                                                                                                                                                        
  <meta name="description" content="ABAP Teachable Machine Game">                                                                                                                                                                                              
  <meta name="author" content="Alban Leong">                                                                                                                                                                                                                   
  <meta name="license" content="MIT License">                                                                                                                                                                                                                  
  <link rel="stylesheet" href="./css/materialize.min.css">                                                                                                                                                                                                     
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">                                                                                                                                                                       
</head>                                                                                                                                                                                                                                                        
<body>                                                                                                                                                                                                                                                         
  <nav class="blue lighten-4">                                                                                                                                                                                                                                 
    <div class="nav-wrapper container blue lighten-4">                                                                                                                                                                                                         
      <span class="black-text brand-logo center">Select your profile</span>                                                                                                                                                                                    
    </div>                                                                                                                                                                                                                                                     
  </nav>                                                                                                                                                                                                                                                       
  <br /><br />                                                                                                                                                                                                                                                 
<%                                                                                                                                                                                                                                                             
  " Check to see if there are any Players set up...                                                                                                                                                                                                            
  if players[] is not initial.                                                                                                                                                                                                                                 
%>                                                                                                                                                                                                                                                             
<form id="player">                                                                                                                                                                                                                                             
<div class="container">                                                                                                                                                                                                                                        
<div class="row">                                                                                                                                                                                                                                              
<%                                                                                                                                                                                                                                                             
  " Player(s) table not empty - loop through and display each player cards                                                                                                                                                                                     
  loop at players into data(player).                                                                                                                                                                                                                           
%>                                                                                                                                                                                                                                                             
<div class="col s2">                                                                                                                                                                                                                                           
  <div class="card-panel amber lighten-1 z-depth-4 scale-transition scale-out" id="player_card">                                                                                                                                                               
    <div class="s1">                                                                                                                                                                                                                                           
<%                                                                                                                                                                                                                                                             
  if player-ppic is not initial.                                                                                                                                                                                                                               
%>                                                                                                                                                                                                                                                             
<img src="<%= player-ppic%>" alt="" class="circle responsive-img">                                                                                                                                                                                             
<%                                                                                                                                                                                                                                                             
  endif.                                                                                                                                                                                                                                                       
%>                                                                                                                                                                                                                                                             
     </div>                                                                                                                                                                                                                                                    
     <span class="black-text"><p align="center"><%= player-name %> </p></span>                                                                                                                                                                                 
     <a class="btn-floating waves-effect waves-light light-blue darken-4 pulse right" href="?onInputProcessing(player_select)&player=<%= player-name%>" >                                                                                                      
     <i class="material-icons">arrow_forward</i></a>                                                                                                                                                                                                           
  </div>                                                                                                                                                                                                                                                       
</div>                                                                                                                                                                                                                                                         
<%                                                                                                                                                                                                                                                             
  endloop.                                                                                                                                                                                                                                                     
%>                                                                                                                                                                                                                                                             
</div>                                                                                                                                                                                                                                                         
</div>                                                                                                                                                                                                                                                         
</form>                                                                                                                                                                                                                                                        
<%                                                                                                                                                                                                                                                             
  " No players found - display message to set up new Players in transaction ZZATMSETUP                                                                                                                                                                         
  else.                                                                                                                                                                                                                                                        
%>                                                                                                                                                                                                                                                             
<div class="section no-pad-bot" id="index-banner">                                                                                                                                                                                                             
  <div class="container">                                                                                                                                                                                                                                      
    <br /><br />                                                                                                                                                                                                                                               
    <h1 class="header center amber-text">No player found...</h1>                                                                                                                                                                                               
    <div class="row center">                                                                                                                                                                                                                                   
      <h5 class="header col s12 light">Run transaction ZZATMSETUP to create your first player!</h5>                                                                                                                                                            
    </div>                                                                                                                                                                                                                                                     
    <br /><br />                                                                                                                                                                                                                                               
  </div>                                                                                                                                                                                                                                                       
</div>                                                                                                                                                                                                                                                         
<%                                                                                                                                                                                                                                                             
  endif. " End Players display                                                                                                                                                                                                                                 
%>                                                                                                                                                                                                                                                             
  <br /><br />                                                                                                                                                                                                                                                 
  <footer class="page-footer blue lighten-3">                                                                                                                                                                                                                  
    <div class="container">                                                                                                                                                                                                                                    
      <div class="row">                                                                                                                                                                                                                                        
        <div class="col s12">                                                                                                                                                                                                                                  
          <h6 class="white-text" align="center">Best played with headphones on.</h6>                                                                                                                                                                           
        </div>                                                                                                                                                                                                                                                 
      </div>                                                                                                                                                                                                                                                   
    </div>                                                                                                                                                                                                                                                     
    <div class="footer-copyright blue darken-4">                                                                                                                                                                                                               
      <div class="container">                                                                                                                                                                                                                                  
      <a href="license.html" class="white-text">MIT License</a> | <a href="credits.html" class="white-text">Credits</a>                                                                                                                                        
      <span class="right white-text">                                                                                                                                                                                                                          
      <span class="right white-text">                                                                                                                                                                                                                          
      Developed with &hearts; in ABAP by Alban Leong.<br /> Powered by <a class="grey-text text-lighten-4" href="https://www.sap.com/products/netweaver-platform.html">SAP NetWeaver</a> and                                                                   
      <a class="grey-text text-lighten-4" href="https://teachablemachine.withgoogle.com/">Teachable Machine</a>.                                                                                                                                               
      </span>                                                                                                                                                                                                                                                  
      </div>                                                                                                                                                                                                                                                   
    </div>                                                                                                                                                                                                                                                     
  </footer>                                                                                                                                                                                                                                                    
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>                                                                                                                                                                   
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/speech-commands@0.4.0/dist/speech-commands.min.js"></script>                                                                                                                                    
  <script src="./js/materialize.min.js"></script>                                                                                                                                                                                                              
  <script type="text/javascript">                                                                                                                                                                                                                              
    // a little transition animation for the player cards                                                                                                                                                                                                      
    function show_player_card(){                                                                                                                                                                                                                               
      const playerCard = document.getElementsByClassName("scale-transition");                                                                                                                                                                                  
      for (let i = 0; i < playerCard.length; i++) {                                                                                                                                                                                                            
          playerCard[i].classList.add("scale-in");                                                                                                                                                                                                             
      }                                                                                                                                                                                                                                                        
    }                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
    document.addEventListener('DOMContentLoaded', function(event) {                                                                                                                                                                                            
      setTimeout(() => show_player_card(), 300); // adding just a little delay for animation effects                                                                                                                                                           
    })                                                                                                                                                                                                                                                         
  </script>                                                                                                                                                                                                                                                    
</body>                                                                                                                                                                                                                                                        
</html>                                                                                                                                                                                                                                                        