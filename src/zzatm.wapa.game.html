<%@page language="abap" %>                                                                                                                                                                                                                                     
<!doctype html>                                                                                                                                                                                                                                                
<html lang="en">                                                                                                                                                                                                                                               
<head>                                                                                                                                                                                                                                                         
  <meta charset="utf-8">                                                                                                                                                                                                                                       
  <title>ABAP Teachable Machine Game</title>                                                                                                                                                                                                                   
  <meta name="description" content="ABAP Teachable Machine Game">                                                                                                                                                                                              
  <meta name="author" content="Alban Leong">                                                                                                                                                                                                                   
  <meta name="license" content="MIT License">                                                                                                                                                                                                                  
  <link rel="stylesheet" href="./css/materialize.min.css">                                                                                                                                                                                                     
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">                                                                                                                                                                       
</head>                                                                                                                                                                                                                                                        
<body>                                                                                                                                                                                                                                                         
  <nav class="blue lighten-4">                                                                                                                                                                                                                                 
    <div class="nav-wrapper container blue lighten-4">                                                                                                                                                                                                         
      <span class="black-text brand-logo center">Select a game</span>                                                                                                                                                                                          
      <ul id="nav-mobile" class="left hide-on-med-and-down">                                                                                                                                                                                                   
        <li><a href="index.html" class="black-text"><i class="material-icons right">people</i></a></li>                                                                                                                                                        
      </ul>                                                                                                                                                                                                                                                    
    </div>                                                                                                                                                                                                                                                     
  </nav>                                                                                                                                                                                                                                                       
  <br /><br />                                                                                                                                                                                                                                                 
<%                                                                                                                                                                                                                                                             
  " Check to see if there are any games set up for this player...                                                                                                                                                                                              
  if games[] is not initial.                                                                                                                                                                                                                                   
%>                                                                                                                                                                                                                                                             
<form id="games">                                                                                                                                                                                                                                              
<div class="container">                                                                                                                                                                                                                                        
<div class="row">                                                                                                                                                                                                                                              
<%                                                                                                                                                                                                                                                             
  " Games table not empty - loop through and display each game cards                                                                                                                                                                                           
  loop at games into data(game).                                                                                                                                                                                                                               
    case game-gamet.                                                                                                                                                                                                                                           
      when 'FLASHCARD'.                                                                                                                                                                                                                                        
        data(card_image_url) = |./assets/flash_card_game.png|.                                                                                                                                                                                                 
%>                                                                                                                                                                                                                                                             
<div class="col s4">                                                                                                                                                                                                                                           
  <div class="card scale-transition scale-out">                                                                                                                                                                                                                
    <div class="card-image waves-effect waves-block waves-light">                                                                                                                                                                                              
      <img class="activator responsive-img" src="<%= card_image_url %>">                                                                                                                                                                                       
    </div>                                                                                                                                                                                                                                                     
    <div class="card-content">                                                                                                                                                                                                                                 
      <span class="card-title activator grey-text text-darken-4"><%= game-game %></span>                                                                                                                                                                       
      <a class="btn-large waves-effect waves-light green right" href="flashcard.html?player=<%= game-name%>&game=<%= game-game%>">Start game</a>                                                                                                               
    </div>                                                                                                                                                                                                                                                     
    <div class="card-reveal">                                                                                                                                                                                                                                  
      <span class="card-title grey-text text-darken-4"><%= game-game %><i class="material-icons right">close</i></span>                                                                                                                                        
      <p>Display a series of flash cards and match it with a voice response.</p>                                                                                                                                                                               
    </div>                                                                                                                                                                                                                                                     
  </div>                                                                                                                                                                                                                                                       
</div>                                                                                                                                                                                                                                                         
<%                                                                                                                                                                                                                                                             
    endcase.                                                                                                                                                                                                                                                   
  endloop.                                                                                                                                                                                                                                                     
%>                                                                                                                                                                                                                                                             
</div>                                                                                                                                                                                                                                                         
</div>                                                                                                                                                                                                                                                         
</form>                                                                                                                                                                                                                                                        
<%                                                                                                                                                                                                                                                             
  " No games found - display message to set up new games in transaction ZZATMSETUP                                                                                                                                                                             
  else.                                                                                                                                                                                                                                                        
%>                                                                                                                                                                                                                                                             
<div class="section no-pad-bot" id="index-banner">                                                                                                                                                                                                             
  <div class="container">                                                                                                                                                                                                                                      
    <br /><br />                                                                                                                                                                                                                                               
    <h1 class="header center amber-text">No game found...</h1>                                                                                                                                                                                                 
    <div class="row center">                                                                                                                                                                                                                                   
      <h5 class="header col s12 light">Run transaction ZZATMSETUP to create a game!</h5>                                                                                                                                                                       
    </div>                                                                                                                                                                                                                                                     
    <br /><br />                                                                                                                                                                                                                                               
  </div>                                                                                                                                                                                                                                                       
</div>                                                                                                                                                                                                                                                         
<%                                                                                                                                                                                                                                                             
  endif. " End games display                                                                                                                                                                                                                                   
%>                                                                                                                                                                                                                                                             
  <br /><br />                                                                                                                                                                                                                                                 
  <footer class="page-footer blue lighten-3">                                                                                                                                                                                                                  
    <div class="container">                                                                                                                                                                                                                                    
      <div class="row">                                                                                                                                                                                                                                        
        <div class="col s12">                                                                                                                                                                                                                                  
          <h6 class="white-text" align="center">Best played with headphones on.</h6>                                                                                                                                                                           
        </div>                                                                                                                                                                                                                                                 
      </div>                                                                                                                                                                                                                                                   
    </div>                                                                                                                                                                                                                                                     
    <div class="footer-copyright blue darken-4">                                                                                                                                                                                                               
      <div class="container">                                                                                                                                                                                                                                  
      <a href="license.html" class="white-text">MIT License</a> | <a href="credits.html" class="white-text">Credits</a>                                                                                                                                        
      <span class="right white-text">                                                                                                                                                                                                                          
      Developed with &hearts; in ABAP by Alban Leong.<br /> Powered by <a class="grey-text text-lighten-4" href="https://www.sap.com/products/netweaver-platform.html">SAP NetWeaver</a> and                                                                   
      <a class="grey-text text-lighten-4" href="https://teachablemachine.withgoogle.com/">Teachable Machine</a>.                                                                                                                                               
      </span>                                                                                                                                                                                                                                                  
      </div>                                                                                                                                                                                                                                                   
    </div>                                                                                                                                                                                                                                                     
  </footer>                                                                                                                                                                                                                                                    
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>                                                                                                                                                                   
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/speech-commands@0.4.0/dist/speech-commands.min.js"></script>                                                                                                                                    
  <script src="./js/materialize.min.js"></script>                                                                                                                                                                                                              
  <script type="text/javascript">                                                                                                                                                                                                                              
    // a little transition animation for the game cards                                                                                                                                                                                                        
    function show_game_card(){                                                                                                                                                                                                                                 
      const gameCard = document.getElementsByClassName("scale-transition");                                                                                                                                                                                    
      for (let i = 0; i < gameCard.length; i++) {                                                                                                                                                                                                              
          gameCard[i].classList.add("scale-in");                                                                                                                                                                                                               
      }                                                                                                                                                                                                                                                        
    }                                                                                                                                                                                                                                                          
    document.addEventListener('DOMContentLoaded', function(event) {                                                                                                                                                                                            
      setTimeout(() => show_game_card(), 300); // adding just a little delay for animation effects                                                                                                                                                             
    })                                                                                                                                                                                                                                                         
  </script>                                                                                                                                                                                                                                                    
</body>                                                                                                                                                                                                                                                        
</html>                                                                                                                                                                                                                                                        